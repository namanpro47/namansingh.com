"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/email";
exports.ids = ["pages/api/email"];
exports.modules = {

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./pages/api/email.js":
/*!****************************!*\
  !*** ./pages/api/email.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).end();\n    }\n    const { name , email , message  } = req.body;\n    if (!name || !email || !message) {\n        return res.status(400).json({\n            error: \"Name, email, and message are required.\"\n        });\n    }\n    const sendGridApiKey = process.env.SENDGRID_API_KEY;\n    const toEmail = \"naman@vt.edu\";\n    console.log(\"about to send email with the following info:\");\n    console.log(name);\n    console.log(email);\n    console.log(message);\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"https://api.sendgrid.com/v3/mail/send\", {\n            personalizations: [\n                {\n                    to: [\n                        {\n                            email: toEmail\n                        }\n                    ],\n                    subject: \"Contact Form Message\"\n                }\n            ],\n            from: {\n                email: \"naman@vt.edu\",\n                name: \"Naman Singh\"\n            },\n            content: [\n                {\n                    type: \"text/plain\",\n                    value: `From: ${name}, Email: ${email}, Message: ${message}`\n                }\n            ]\n        }, {\n            headers: {\n                Authorization: `Bearer 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`,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (response.status === 202) {\n            return res.status(200).json({\n                success: true\n            });\n        } else {\n            return res.status(400).json({\n                error: \"Failed to send email.\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error sending email:\", error);\n        console.log(\"detailed error:\");\n        if (error.response && error.response.data && error.response.data.errors) {\n            console.error(error.response.data.errors);\n        }\n        return res.status(500).json({\n            error: \"Internal server error.\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZW1haWwuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEI7QUFFWCxlQUFlQyxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDNUMsSUFBSUQsSUFBSUUsV0FBVyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE9BQU8sS0FBS0M7SUFDekI7SUFFQSxNQUFNLEVBQUVDLEtBQUksRUFBRUMsTUFBSyxFQUFFQyxRQUFPLEVBQUUsR0FBR1AsSUFBSVE7SUFFckMsSUFBSSxDQUFDSCxRQUFRLENBQUNDLFNBQVMsQ0FBQ0MsU0FBUztRQUMvQixPQUFPTixJQUFJRSxPQUFPLEtBQUtNLEtBQUs7WUFBRUMsT0FBTztRQUF5QztJQUNoRjtJQUVBLE1BQU1DLGlCQUFpQkMsUUFBUUMsSUFBSUM7SUFDbkMsTUFBTUMsVUFBVTtJQUVoQkMsUUFBUUMsSUFBSTtJQUNaRCxRQUFRQyxJQUFJWjtJQUNaVyxRQUFRQyxJQUFJWDtJQUNaVSxRQUFRQyxJQUFJVjtJQUVaLElBQUk7UUFDRixNQUFNVyxXQUFXLE1BQU1wQixrREFBVXFCLENBQUMseUNBQXlDO1lBQ3pFQyxrQkFBa0I7Z0JBQ2hCO29CQUNFQyxJQUFJO3dCQUFDOzRCQUFFZixPQUFPUzt3QkFBUTtxQkFBRTtvQkFDeEJPLFNBQVM7Z0JBQ1g7YUFDRDtZQUNEQyxNQUFNO2dCQUFFakIsT0FBTztnQkFBZ0JELE1BQU07WUFBYztZQUNuRG1CLFNBQVM7Z0JBQ1A7b0JBQ0VDLE1BQU07b0JBQ05DLE9BQU8sQ0FBQyxNQUFNLEVBQUVyQixLQUFLLFNBQVMsRUFBRUMsTUFBTSxXQUFXLEVBQUVDLFFBQVEsQ0FBQztnQkFDOUQ7YUFDRDtRQUNILEdBQUc7WUFDRG9CLFNBQVM7Z0JBQ1BDLGVBQWUsQ0FBQyw0RUFBNEUsQ0FBQztnQkFDN0YsZ0JBQWdCO1lBQ2xCO1FBQ0Y7UUFFQSxJQUFJVixTQUFTZixXQUFXLEtBQUs7WUFDM0IsT0FBT0YsSUFBSUUsT0FBTyxLQUFLTSxLQUFLO2dCQUFFb0IsU0FBUztZQUFLO1FBQzlDLE9BQU87WUFDTCxPQUFPNUIsSUFBSUUsT0FBTyxLQUFLTSxLQUFLO2dCQUFFQyxPQUFPO1lBQXdCO1FBQy9EO0lBQ0YsRUFBRSxPQUFPQSxPQUFPO1FBQ2RNLFFBQVFOLE1BQU0sd0JBQXdCQTtRQUN0Q00sUUFBUUMsSUFBSTtRQUNaLElBQUlQLE1BQU1RLFlBQVlSLE1BQU1RLFNBQVNZLFFBQVFwQixNQUFNUSxTQUFTWSxLQUFLQyxRQUFRO1lBQ3ZFZixRQUFRTixNQUFNQSxNQUFNUSxTQUFTWSxLQUFLQztRQUNwQztRQUNBLE9BQU85QixJQUFJRSxPQUFPLEtBQUtNLEtBQUs7WUFBRUMsT0FBTztRQUF5QjtJQUNoRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWxpc2MtcmVhY3QvLi9wYWdlcy9hcGkvZW1haWwuanM/ODkyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZCgpO1xuICB9XG5cbiAgY29uc3QgeyBuYW1lLCBlbWFpbCwgbWVzc2FnZSB9ID0gcmVxLmJvZHk7XG5cbiAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhbWVzc2FnZSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTmFtZSwgZW1haWwsIGFuZCBtZXNzYWdlIGFyZSByZXF1aXJlZC4nIH0pO1xuICB9XG5cbiAgY29uc3Qgc2VuZEdyaWRBcGlLZXkgPSBwcm9jZXNzLmVudi5TRU5ER1JJRF9BUElfS0VZO1xuICBjb25zdCB0b0VtYWlsID0gJ25hbWFuQHZ0LmVkdSc7XG5cbiAgY29uc29sZS5sb2coXCJhYm91dCB0byBzZW5kIGVtYWlsIHdpdGggdGhlIGZvbGxvd2luZyBpbmZvOlwiKVxuICBjb25zb2xlLmxvZyhuYW1lKVxuICBjb25zb2xlLmxvZyhlbWFpbClcbiAgY29uc29sZS5sb2cobWVzc2FnZSlcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnaHR0cHM6Ly9hcGkuc2VuZGdyaWQuY29tL3YzL21haWwvc2VuZCcsIHtcbiAgICAgIHBlcnNvbmFsaXphdGlvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRvOiBbeyBlbWFpbDogdG9FbWFpbCB9XSxcbiAgICAgICAgICBzdWJqZWN0OiAnQ29udGFjdCBGb3JtIE1lc3NhZ2UnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGZyb206IHsgZW1haWw6IFwibmFtYW5AdnQuZWR1XCIsIG5hbWU6IFwiTmFtYW4gU2luZ2hcIiB9LFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ3RleHQvcGxhaW4nLFxuICAgICAgICAgIHZhbHVlOiBgRnJvbTogJHtuYW1lfSwgRW1haWw6ICR7ZW1haWx9LCBNZXNzYWdlOiAke21lc3NhZ2V9YCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyIFNHLmdGOVVIMk9KVDM2X3RYY1lpalFaeXcuU3JfN1FoSkFuQmpEaVdBVUhLdjk3c3FISFlJLWpTUEZud3NUcFZnVzJQVWAsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBzZW5kIGVtYWlsLicgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZW1haWw6JywgZXJyb3IpO1xuICAgIGNvbnNvbGUubG9nKFwiZGV0YWlsZWQgZXJyb3I6XCIpXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvci4nIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwibmFtZSIsImVtYWlsIiwibWVzc2FnZSIsImJvZHkiLCJqc29uIiwiZXJyb3IiLCJzZW5kR3JpZEFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJTRU5ER1JJRF9BUElfS0VZIiwidG9FbWFpbCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsInBvc3QiLCJwZXJzb25hbGl6YXRpb25zIiwidG8iLCJzdWJqZWN0IiwiZnJvbSIsImNvbnRlbnQiLCJ0eXBlIiwidmFsdWUiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInN1Y2Nlc3MiLCJkYXRhIiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/email.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/email.js"));
module.exports = __webpack_exports__;

})();